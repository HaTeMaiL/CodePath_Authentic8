# Project 8 - Pentesting Live Targets

Time spent: **5** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: Session Hijacking/Fixation
* Login – Using a Python script (.../public/hacktools/change_session_id.php), an attacker is able to hijack a session by assigning the logged-in session ID (in this case, the "pperson" user) to login.
  - [Session Hijacking GIF Link](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/SH.gif)
![Session Hijacking](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/SH.gif)

Vulnerability #2: SQL Injection (SQLi)
* While the other colored sites sanitize data input properly by redirecting SQLI to the previous Find a Salesperson page, this one does not and instead allows for a majority of possible query attacks to go through on the Salesperson page. For example, *1’ AND sleep(10);-- ;* where it causes the execution of the script to delay for specified period of time.
  - [SQLi GIF Link](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/SQLI.gif)
![SQLi](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/SQLI.gif)


## Green

Vulnerability #1: Stored Cross-Site Scripting (XSS)
* On the Contact page, the contact form allows for malicious javascript code to entered into the feedback field (example: <script>alert('Authentic8 found the XSS!');</script>). Therefore, there is no data validation to prevent a stored XSS attack. The attack is ultimately visible on the Feedback page of the CMS, or Content Management System. 
  - [XSS GIF Link](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/XSS.gif)
![XSS](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/XSS.gif)

Vulnerability #2: Username Enumeration
* On the Log In page, the class name of the error message shows “failure” for a known username while it uses “failed” for a random username entered. This can be found simply by through the Inspect Element tool of the browser providing a information to a potential attacker through a commonly accessible and ease-of-use tool.
  - [Username Enumeration GIF Link](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/UE.gif)
![Username Enumeration](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/UE.gif)


## Red

Vulnerability #1: Insecure Direct Object Reference (IDOR)
* On the Find a Salesperson page, in the address URL you are able to see and change the id for a user. In this case, if you set id=10 it shows "*Testy McTesterson*" who is not supposed to be public yet. This is indicated by "*(NOT PUBLIC UNTIL SEPT. 1)*".
  - [IDOR GIF Link](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/IDOR.gif)
![IDOR](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/IDOR.gif)

Vulnerability #2: Cross-Site Request Forgery (CSRF)
* On the Users page, despite changing the CSRF token, the form still allows for the changes to the username to be made, rendering the CSRF token useless. One user should not have the ability to do this to another user without their information, well truly not at all in fact.
  - [CSRF GIF Link](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/CSRF.gif)
![CSRF](https://github.com/HaTeMaiL/CodePath_Authentic8/blob/master/LivePenTest/imgs/CSRF.gif)


## Notes

Describe any challenges encountered while doing the work

It was difficult to compare the differences of all sites at once since they are connected (Logged into one, logged into all). It took far too long to realize that I could not do things on multiple colors at once and had to try things individually then compare.
